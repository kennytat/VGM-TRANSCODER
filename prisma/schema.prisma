generator client {
  provider        = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Media {
  id          String      @id @default(uuid())
  pid         String      @default("none")
  name        String  
  qm          String?      @unique
  categories  Category[]
}

model Category {
  id            String    @id @default(uuid())
  parent        Media      @relation(fields: [pid], references:[id])
  pid           String     
  name          String  
  qm            String?   @unique
  classes    Classification[]
  @@unique([pid,name])
}

model Classification {
  id            String    @id @default(uuid())
  parent        Category  @relation(fields: [pid], references:[id])
  pid           String     
  name          String  
  qm            String?    @unique
  topics         Topic[]
  @@unique([pid,name])
}

model Topic {
  id            String    @id @default(uuid())
  parent        Classification    @relation(fields: [pid], references:[id])
  pid           String     
  name          String  
  qm            String?             @unique
  contents       Content[]
  @@unique([pid,name])
}

model Content {
  id            String    @id @default(uuid())
  parent        Topic   @relation(fields: [pid], references:[id])
  pid           String     
  name          String  
  qm            String?  @unique
  duration      Int?
  size          Int?
  thumb         String
  isvideo       Boolean?
}

// model User {
//   id    Int     @id @default(autoincrement())
//   email String  @unique
//   name  String?
//   posts Post[]
// }

// model Post {
//   id        Int      @id @default(autoincrement())
//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt
//   title     String
//   content   String?
//   published Boolean  @default(false)
//   viewCount Int      @default(0)
//   author    User?    @relation(fields: [authorId], references: [id])
//   authorId  Int?
// }

